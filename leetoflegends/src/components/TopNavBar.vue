<template>
    <div class="top">
        <img src="../assets/logoleet.png" alt="Home" class="logo" @click="goHome()"/>
        <div @click.stop="toggleMenu" class="logo profile"
            style="margin-left: auto; margin-right: 10px;width: 30px;background-color: var(--color-text);border-radius: 50%;">
        </div>

        <transition name="fade">
            <div v-if="isMenuVisible" class="menu" @click.stop>
                <p>
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" height="18" width="20" style="fill: var(--color-text);margin-right: 3px;"
                        xml:space="preserve">
                        <g>
                            <g>
                                <path
                                    d="M256,0c-74.439,0-135,60.561-135,135s60.561,135,135,135s135-60.561,135-135S330.439,0,256,0z M256,240
    			c-57.897,0-105-47.103-105-105c0-57.897,47.103-105,105-105c57.897,0,105,47.103,105,105C361,192.897,313.897,240,256,240z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M423.966,358.195C387.006,320.667,338.009,300,286,300h-60c-52.008,0-101.006,20.667-137.966,58.195
    			C51.255,395.539,31,444.833,31,497c0,8.284,6.716,15,15,15h420c8.284,0,15-6.716,15-15
    			C481,444.833,460.745,395.539,423.966,358.195z M61.66,482c7.515-85.086,78.351-152,164.34-152h60
    			c85.989,0,156.825,66.914,164.34,152H61.66z" />
                            </g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                    </svg>

                    Profile
                </p>
                <p>

                    <svg height="20" viewBox="-12 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg"
                        style="fill: var(--color-text);margin-right: 3px;">
                        <path
                            d="m244.316406 362.667969c-58.816406 0-106.667968-47.851563-106.667968-106.667969s47.851562-106.667969 106.667968-106.667969c58.8125 0 106.664063 47.851563 106.664063 106.667969s-47.851563 106.667969-106.664063 106.667969zm0-181.335938c-41.175781 0-74.667968 33.496094-74.667968 74.667969s33.492187 74.667969 74.667968 74.667969c41.171875 0 74.664063-33.496094 74.664063-74.667969s-33.492188-74.667969-74.664063-74.667969zm0 0" />
                        <path
                            d="m279.792969 512h-70.957031c-17.066407 0-32.148438-12.117188-35.859376-28.820312l-8.980468-39.9375c-14.636719-6.207032-28.589844-14.3125-41.6875-24.210938l-38.890625 12.285156c-16.683594 5.183594-34.816407-1.898437-43.179688-16.832031l-35.367187-61.160156c-8.472656-15.148438-5.613282-33.792969 6.847656-45.527344l30.140625-27.710937c-.914063-8.128907-1.363281-16.191407-1.363281-24.085938s.449218-15.957031 1.34375-24.085938l-29.972656-27.582031c-12.609376-11.863281-15.488282-30.507812-7.105469-45.460937l35.585937-61.546875c8.253906-14.765625 26.429688-21.78125 43.007813-16.683594l38.953125 12.308594c13.097656-9.898438 27.050781-18.003907 41.6875-24.214844l9-39.976563c3.691406-16.640624 18.773437-28.757812 35.839844-28.757812h70.957031c17.066406 0 32.148437 12.117188 35.859375 28.820312l8.980468 39.9375c14.636719 6.207032 28.589844 14.3125 41.6875 24.210938l38.890626-12.285156c16.726562-5.140625 34.816406 1.898437 43.179687 16.832031l35.371094 61.160156c8.46875 15.148438 5.609375 33.792969-6.851563 45.527344l-30.140625 27.710937c.894531 8.128907 1.34375 16.214844 1.34375 24.085938s-.449219 15.957031-1.34375 24.085938l29.992188 27.5625c.042969.042968.085937.085937.148437.128906 12.460938 11.730468 15.339844 30.378906 6.957032 45.332031l-35.585938 61.546875c-8.253906 14.761719-26.386719 21.824219-43.027344 16.660156l-38.957031-12.308594c-13.097656 9.898438-27.050781 18.003907-41.683594 24.214844l-9.003906 39.976563c-3.667969 16.683593-18.75 28.800781-35.816406 28.800781zm-154.21875-126.742188c3.667969 0 7.273437 1.257813 10.175781 3.648438 14.65625 12.054688 30.632812 21.355469 47.550781 27.585938 5.097657 1.875 8.875 6.207031 10.070313 11.496093l10.859375 48.214844c.488281 2.21875 2.429687 3.796875 4.628906 3.796875h70.953125c2.199219 0 4.140625-1.578125 4.609375-3.753906l10.878906-48.257813c1.195313-5.289062 4.972657-9.621093 10.070313-11.496093 16.894531-6.230469 32.894531-15.53125 47.550781-27.585938 4.183594-3.457031 9.8125-4.566406 15-2.921875l46.953125 14.828125c2.238281.703125 4.628906-.128906 5.652344-1.964844l35.585937-61.546875c1.066407-1.898437.679688-4.5-1.023437-6.164062l-36.011719-33.109375c-3.90625-3.585938-5.78125-8.898438-4.992187-14.144532 1.40625-9.449218 2.113281-18.835937 2.113281-27.902343 0-9.070313-.707031-18.457031-2.113281-27.90625-.789063-5.246094 1.085937-10.539063 4.992187-14.144531l36.09375-33.195313c1.621094-1.511719 2.007813-4.160156.832031-6.269531l-35.371094-61.164063c-1.148437-2.027343-3.582031-2.835937-5.800781-2.132812l-46.890625 14.804687c-5.164062 1.644532-10.792968.535156-14.996094-2.921875-14.65625-12.054687-30.636718-21.355469-47.554687-27.585937-5.097656-1.875-8.875-6.207032-10.066406-11.496094l-10.859375-48.214844c-.535156-2.175781-2.476563-3.753906-4.671875-3.753906h-70.957031c-2.195313 0-4.136719 1.578125-4.605469 3.753906l-10.882813 48.257813c-1.191406 5.289062-4.96875 9.597656-10.066406 11.496093-16.898438 6.230469-32.898438 15.53125-47.53125 27.585938-4.203125 3.457031-9.878906 4.542969-14.996094 2.921875l-46.957031-14.828125c-2.195313-.679688-4.628906.128906-5.652344 1.964844l-35.585937 61.523437c-1.066406 1.921875-.679688 4.566407 1.089844 6.230469l35.96875 33.046875c3.902343 3.582031 5.78125 8.894531 4.992187 14.144531-1.410156 9.449219-2.113281 18.835938-2.113281 27.902344s.703125 18.453125 2.113281 27.902344c.789063 5.25-1.089844 10.539062-4.992187 14.144531l-36.097657 33.195313c-1.621093 1.515624-2.003906 4.160156-.832031 6.273437l35.371094 61.160156c1.128906 2.027344 3.5625 2.816407 5.800781 2.136719l46.894531-14.808594c1.578125-.511718 3.199219-.746094 4.820313-.746094zm0 0" />
                    </svg>
                    Settings
                </p>
                <p><i>Jules.gg</i></p>
                <p>

                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" height="22"
                        width="22" style="enable-background:new 0 0 20 20;fill: var(--color-text);margin-right: 3px;"
                        xml:space="preserve">
                        <g>
                            <g>
                                <path d="M256,120c-74.443,0-136,61.557-136,136s61.557,136,136,136s136-61.557,136-136S330.443,120,256,120z M271,360.484V151.516
            			c50.75,7.357,91,51.729,91,104.484S321.75,353.127,271,360.484z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M256,0c-8.291,0-15,6.709-15,15v60c0,8.291,6.709,15,15,15s15-6.709,15-15V15C271,6.709,264.291,0,256,0z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M256,422c-8.291,0-15,6.709-15,15v60c0,8.291,6.709,15,15,15s15-6.709,15-15v-60C271,428.709,264.291,422,256,422z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M75,241H15c-8.291,0-15,6.709-15,15s6.709,15,15,15h60c8.291,0,15-6.709,15-15C90,247.709,83.291,241,75,241z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M497,241h-60c-8.291,0-15,6.709-15,15s6.709,15,15,15h60c8.291,0,15-6.709,15-15C512,247.709,505.291,241,497,241z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M138.326,373.675c-5.859-5.859-15.352-5.859-21.211,0l-42.437,42.422c-5.86,5.859-5.86,15.351,0,21.211
            			c5.859,5.859,15.352,5.859,21.211,0l42.437-42.422C144.185,389.027,144.185,379.534,138.326,373.675z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M437.308,74.692c-5.859-5.859-15.352-5.859-21.211,0l-42.422,42.422c-5.859,5.859-5.859,15.352,0,21.211
            			c5.859,5.859,15.352,5.859,21.211,0l42.422-42.422C443.167,90.044,443.167,80.552,437.308,74.692z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M437.308,416.097l-42.422-42.422c-5.859-5.859-15.352-5.859-21.211,0s-5.859,15.352,0,21.211l42.422,42.422
            			c5.859,5.859,15.352,5.859,21.211,0S443.167,421.956,437.308,416.097z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M138.326,117.114L95.889,74.692c-5.86-5.859-15.352-5.859-21.211,0c-5.859,5.859-5.859,15.352,0,21.211l42.437,42.422
            			c5.859,5.859,15.352,5.859,21.211,0C144.185,132.466,144.185,122.973,138.326,117.114z" />
                            </g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                    </svg>

                    Appearance
                </p>
                <p>
                    <svg height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg"
                        style="fill: var(--color-text);margin-right: 3px;">
                        <g id="Logout">
                            <path
                                d="m19 2h-6a1 1 0 0 0 0 2h6a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-6a1 1 0 0 0 0 2h6a3 3 0 0 0 3-3v-14a3 3 0 0 0 -3-3z" />
                            <path
                                d="m7.707 15.293a1 1 0 1 1 -1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 1 1 1.414 1.414l-2.293 2.293h11.586a1 1 0 0 1 0 2h-11.586z" />
                        </g>
                    </svg>
                    Sign out
                </p>
            </div>
        </transition>
    </div>
</template>

<script>
export default {
  data() {
    return {
      isMenuVisible: false,
    };
  },
  methods: {
    toggleMenu() {
      this.isMenuVisible = !this.isMenuVisible;
      if (this.isMenuVisible) {
        document.addEventListener('click', this.handleClickOutside, true);
      } else {
        document.removeEventListener('click', this.handleClickOutside, true);
      }
    },
    handleClickOutside(event) {
      const menuElement = this.$el.querySelector('.menu');
      if (menuElement && !menuElement.contains(event.target)) {
        this.isMenuVisible = false;
        document.removeEventListener('click', this.handleClickOutside, true);
      }
    },
    goHome() {
      this.$router.push({ name: 'home' });
    },
  },
  unmounted() {
    document.removeEventListener('click', this.handleClickOutside, true);
  },
};
</script>

<style scoped>
.top {
    width: 100vw;
    height: 50px;
    background-color: var(--color-background);
    display: flex;
    align-items: center;
    border-radius: 15px;
    border: 5px solid var(--color-background-mute);
    margin-top: 3px;
}

.logo {
    height: 30px;
    margin-left: 10px;
    transition: all 0.2s ease-in-out;
}

.logo:hover {
    cursor: pointer;
    transform: scale(1.05);
}

.menu {
    position: absolute;
    top: 50px;
    right: 215px;
    z-index: 10;
    width: 200px;
    /* Adjust as needed */
    background-color: var(--color-background);
    /* Adjust as needed */
    box-shadow: 0px 0 5px rgba(0, 0, 0, 0.2);
    transform: translateX(100%);
    transition: transform 0.3s ease-in-out;
    padding: 10px;
    /* For spacing inside the menu */
    border-radius: 15px;

}

.menu>p {
    margin: 7px;
    cursor: pointer;
    font-size: 16px;
    width: 100%;
    padding: 3px;
    border-radius: 5px;
    display: flex;
    align-items: center;
}

.menu>p:hover {
    background-color: var(--color-background-mute);
}

.fade-enter-active,
.fade-leave-active {
    transition: opacity 0.3s;
}

.fade-enter,
.fade-leave-to

/* .fade-leave-active in <2.1.8 */
    {
    opacity: 0;
}</style>
